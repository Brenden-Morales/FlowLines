<!DOCTYPE html>
<html lang="en" style="width:100%;height:100%;padding:0px;margin:0px;">
<head>
    <meta charset="UTF-8">
    <title>Flow Map Test</title>
</head>

<script id="passThroughVertex" type="x-shader/x-vertex">
    void main()	{
        gl_Position = vec4( position, 1.0 );
    }
</script>

<script id="canvasFragment" type="x-shader/x-fragment">
    uniform vec2 resolution;
    uniform sampler2D canvas;
    uniform sampler2D checkerboard;
    uniform vec2 resolution2;

    void main(){
        vec2 pos = gl_FragCoord.xy / resolution.xy;
        vec4 canvasColor = texture2D(canvas,pos);

        float checkX = mod(gl_FragCoord.x, resolution2.x) / resolution2.x;
        float checkY = mod(gl_FragCoord.y, resolution2.y) / resolution2.y;
        vec4 checkColor = texture2D(checkerboard,vec2(checkX,checkY));

        gl_FragColor = vec4(checkColor.x * canvasColor.a,checkColor.y * canvasColor.a,checkColor.z * canvasColor.a,canvasColor.a);
    }
</script>

<body style="width:100%;height:100%;padding:0px;margin:0px;overflow:hidden" onload="initialize()">
    <canvas id="mainCanvas" style="position:absolute;z-index:1;width:100%;height:100%;padding:0px;margin:0px;" onclick="canvasClick(event,this)"></canvas>
    <canvas id="renderCanvas" style="position:absolute;z-index:2;width:100%;height:100%;padding:0px;margin:0px;pointer-events:none;display:none"></canvas>
    <div id="overlay" style="position:relative;z-index:3;width:100%;height:100%;padding:0px;margin:0px;pointer-events:none">
        <div>
            Line Width:
            <select id="lineThickness" style="pointer-events:all" onchange="lineThicknessChanged()">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
            </select>
        </div>
        <div>
            <button id="toggleDraw" style="pointer-events:all" onclick="toggleDraw()">Not Drawing</button>
        </div>
        <div style="padding-bottom: 500px;">
            <button id="toggleRender" style="pointer-events:all" onclick="toggleRender()">Not Rendering</button>
        </div>
    </div>
</body>

<script src="libs/Three.js"></script>
<script src="main.js"></script>
<script src="FancyStuff.js"></script>
<script src="libs/stats.min.js"></script>
</html>